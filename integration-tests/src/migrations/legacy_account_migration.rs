use near_workspaces::types::NearToken;
use nitka::{misc::ToNear, near_sdk::json_types::U128};
use sweat_model::FungibleTokenCoreIntegration;

use crate::context::{prepare_contract, IntegrationContext};

#[tokio::test]
#[mutants::skip]
async fn legacy_account_migration() -> anyhow::Result<()> {
    println!("üë∑üèΩ Migrate legacy account");

    let mut context = prepare_contract(None, []).await?;

    let msg = r#"{"data":["alice.near","AAgCAAAEAAAACQAAAHByb2R1Y3RfMcIBAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAAAAAAAAAAAAAAALPYaJKIpAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAHByb2R1Y3RfMjIAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAAAAAAAAAAAAAAA9ESCkWNFAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAHByb2R1Y3RfMwoAAAAAAAAAAAAAAAAAyE5nbcEbAAAAAAAAAAAAAAAAAAAAAAAAyE5nbcEbAAAAAAAAAAAAAAAAAAAAAAAAyE5nbcEbAAAAAAAAAAAAAAAAAAAAAAAAyE5nbcEbAAAAAAAAAAAAAAAAAAAAAAAAyE5nbcEbAAAAAAAAAAAAAAAAAAAAAAAAyE5nbcEbAAAAAAAAAAAAAAAAAAAAAAAAyE5nbcEbAAAAAAAAAAAAAAAAAAAAAAAAyE5nbcEbAAAAAAAAAAAAAAAAAAAAAAAAyE5nbcEbAAAAAAAAAAAAAAAAAAAAAAAAyE5nbcEbAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAHByb2R1Y3RfNAoAAAAAAAAAAAAAAAAAZKeztuANAAAAAAAAAAAAAAAAAAAAAAAAZKeztuANAAAAAAAAAAAAAAAAAAAAAAAAZKeztuANAAAAAAAAAAAAAAAAAAAAAAAAZKeztuANAAAAAAAAAAAAAAAAAAAAAAAAZKeztuANAAAAAAAAAAAAAAAAAAAAAAAAZKeztuANAAAAAAAAAAAAAAAAAAAAAAAAZKeztuANAAAAAAAAAAAAAAAAAAAAAAAAZKeztuANAAAAAAAAAAAAAAAAAAAAAAAAZKeztuANAAAAAAAAAAAAAAAAAAAAAAAAZKeztuANAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAA=="],"type":"migrate"}"#;

    let result = context
        .ft_contract()
        .ft_transfer_call(
            context.sweat_jar().contract.as_account().to_near(),
            U128(1630000000000000000000),
            Some("migrate alice".to_string()),
            msg.to_string(),
        )
        .with_user(&context.legacy_account().await?)
        .deposit(NearToken::from_yoctonear(1))
        .result()
        .await?;

    println!("{:?}", result);

    Ok(())
}
